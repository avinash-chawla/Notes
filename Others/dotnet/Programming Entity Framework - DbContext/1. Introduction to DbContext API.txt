1. Topics

DbContext
DbSet 
DbQuery 
Change Tracker API
Validation API 
Code First Model Building 

-----------------------------------------------------------------------------------

2. DbContext Class

--> There are two options to create DbContext class

1. Code First Migration Approach
2. Database First Approach

-----------------------------------------------------------------------------------

--> In Database First Appraoch, it is automatically created
--> In Code First Approach, you manually create it.

-----------------------------------------------------------------------------------

--> Created using Code First Approach

 public class BreakAwayContext : DbContext
  {
    public DbSet<Destination> Destinations { get; set; }
    public DbSet<Lodging> Lodgings { get; set; }
    public DbSet<Trip> Trips { get; set; }
  }

-----------------------------------------------------------------------------------

--> Created using Database First Approach

public partial class BAEntities : DbContext {

    public BAEntities() : base("name=BAEntities")
    {
        this.Configuration.LazyLoadingEnabled = false;
    }
    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        throw new UnintentionalCodeFirstException();
    }
    public DbSet<Activity> Activities { get; set; }
    public DbSet<Trip> Trips { get; set; }
    public DbSet<Destination> Destinations { get; set; }
}

-----------------------------------------------------------------------------------

3. DataBase First Appraoch

--> Two templates will be added to your project. 

--> One is a context template (Model.Context.tt), which generates a class that inherits from DbContext
--> The second template called Model.tt, is the one that generates POCO classes for each of the entities in your EDMX model, such POCO classes will be included inside class inheriting DbContext class

-----------------------------------------------------------------------------------

4. Querying Data

public static List<Destination>  GetDestinations() {
  using (var context = new BreakAwayContext())
  {
    var query= from d in context.Destinations
                orderby d.Name
                select d;
    return query.ToList();
  } 
}

-----------------------------------------------------------------------------------

5. Take Away

--> You work with DbContext object to interact with database.

-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



-----------------------------------------------------------------------------------



































































